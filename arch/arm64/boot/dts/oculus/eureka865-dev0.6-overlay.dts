// SPDX-License-Identifier: GPL-2.0

/dts-v1/;
/plugin/;

#include "eureka865.dtsi"
#include "eureka865-dev.dtsi"
#include "eureka865-d4xx-panel.dtsi"

/ {
	model = "Eureka865 (Dev0.6)";
	compatible = "qcom,kona";
	qcom,board-id = <68 146>;
};

&pm8150_l10 {
	qcom,init-voltage = <2500000>;
};

&pm8150a_l4 {
	qcom,init-mode = <4>; /* RPMH_REGULATOR_MODE_HPM */
	status = "ok";
};

&qupv3_se11_spi {
	spi_flash@0 {
		#address-cells = <1>;
		#size-cells = <0>;
		compatible = "jedec,spi-nor";
		reg = <0>;
		spi-max-frequency = <10000000>;
		mode = <0>;
		status = "ok";
	};
};

&soc {
	fpga_1p2_regulator: fpga_1p2_regulator@0 {
		compatible = "regulator-fixed";
		regulator-name = "fpga_1p2";
		regulator-min-microvolt = <1200000>;
		regulator-max-microvolt = <1200000>;
		regulator-enable-ramp-delay = <233>;
		gpio = <&tlmm 87 0>;
		enable-active-high;
		pinctrl-names = "default";
		pinctrl-0 = <&fpga_1p2_en_default>;
	};
};

&sdhc_2 {
	status = "disabled";
};

&tlmm {
	fpga_1p2_en_default: fpga_1p2_en_default {
		mux {
			pins = "gpio87";
			function = "gpio";
		};

		config {
			pins = "gpio87";
			drive-strength = <8>;
			bias-disable = <0>;
			output-high;
		};
	};
};

&vendor {
	fpga_aggregator: oculus,fpga {
		status = "ok";
		compatible = "oculus,fpga";
		vcciox-voltage-mv = <2500000>;
		vcciox-supply = <&pm8150_l10>;
		vcc-voltage-mv = <1200000>;
		vcc-supply = <&fpga_1p2_regulator>;
		vccaux-voltage-mv = <1800000>;
		vccaux-supply = <&pm8150a_l4>;
	};
};
